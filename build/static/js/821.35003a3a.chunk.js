"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[821],{1821:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var c=a(5043),s=a(3216),i=a(567),r=a(231),n=a(1750),o=a(4881),l=a(3264),d=a(2466);const m=a.p+"static/media/trash.c6bdc883f470f9f2339ed3ecf0d040f3.svg";var u=a(9913);const h={"heading-space":"Checkout_heading-space__I2YpX",credits:"Checkout_credits__7V1PF","credits-label":"Checkout_credits-label__-RQbJ","credits-value":"Checkout_credits-value__JdWkt","credits-icon":"Checkout_credits-icon__-qT8d","checkout-wrapper":"Checkout_checkout-wrapper__8NQ2l","checkout-table-heading":"Checkout_checkout-table-heading__u59x6","checkout-table":"Checkout_checkout-table__E4X5j","checkout-items-container":"Checkout_checkout-items-container__gaL6q","checkout-item":"Checkout_checkout-item__T24-8","item-image":"Checkout_item-image__6DF17","checkout-item-price":"Checkout_checkout-item-price__VaOLo","checkout-item-subtotal":"Checkout_checkout-item-subtotal__9gJXE","checkout-item-remove":"Checkout_checkout-item-remove__16fmy","item-name":"Checkout_item-name__KtKCt","quantity-controls":"Checkout_quantity-controls__enTXk","quantity-count":"Checkout_quantity-count__drQYb","remove-button":"Checkout_remove-button__a9smc","trash-icon":"Checkout_trash-icon__fvw6Z","checkout-summary-container":"Checkout_checkout-summary-container__4ijAb","checkout-summary":"Checkout_checkout-summary__I-flh","checkout-place-order-container":"Checkout_checkout-place-order-container__Rgc0M","checkout-place-order-button":"Checkout_checkout-place-order-button__J3o8I","subtotal-text":"Checkout_subtotal-text__XNLWO","hide-on-mobile":"Checkout_hide-on-mobile__e6Kwr","error-message-container":"Checkout_error-message-container__c7dRL","error-message":"Checkout_error-message__hpnlY"};var _=a(7118),k=a(3494),v=a(579);const g=()=>{const e=(0,s.Zp)(),{token:t,name:a,matric:g}=(0,_.h)(),{userCredits:x,cartCount:j,cartItems:b,setCart:p}=(0,k._)(),[N,y]=(0,c.useState)(""),C=b.reduce(((e,t)=>{const a=t.quantity;return e+t.cost*a}),0),f=x-C;return(0,v.jsx)(i.A,{children:(0,v.jsx)(r.A,{children:(0,v.jsxs)(l.A,{children:[(0,v.jsxs)("div",{className:h["heading-space"],children:[(0,v.jsx)(n.A,{variant:"heading",children:"Checkout"}),(0,v.jsx)(o.A,{})]}),(0,v.jsxs)("div",{className:h["heading-space"],children:[(0,v.jsx)(n.A,{variant:"smallHeading",children:"Review Your Order"}),(0,v.jsxs)("div",{className:h.credits,children:[(0,v.jsx)(n.A,{variant:"body",className:h["credits-label"],children:"Inno Credits:"}),(0,v.jsx)(n.A,{variant:"body",className:h["credits-value"],children:x}),(0,v.jsx)("img",{src:d,alt:"Credits Icon",className:h["credits-icon"]})]})]}),N&&(0,v.jsx)("div",{className:h["error-message-container"],children:(0,v.jsx)(n.A,{variant:"body",className:h["error-message"],children:N})}),(0,v.jsxs)("div",{className:h["checkout-wrapper"],children:[(0,v.jsxs)("div",{className:h["checkout-table"],children:[(0,v.jsx)(n.A,{variant:"body",className:h["checkout-table-heading"],children:"Image"}),(0,v.jsx)(n.A,{variant:"body",className:h["checkout-table-heading"],children:"Product"}),(0,v.jsx)(n.A,{variant:"body",className:h["checkout-table-heading"],children:"Price"}),(0,v.jsx)(n.A,{variant:"body",className:h["checkout-table-heading"],children:"Quantity"}),(0,v.jsx)(n.A,{variant:"body",className:h["checkout-table-heading"],children:"Subtotal"}),(0,v.jsx)("div",{})]}),b.length>0&&(0,v.jsx)("div",{className:h["checkout-items-container"],children:b.map(((e,t)=>{const a=e.quantity,c=e.cost*a;return(0,v.jsxs)("div",{className:h["checkout-item"],children:[(0,v.jsx)("div",{className:h["checkout-item-image"],children:(0,v.jsx)(u.A,{src:e.image,className:h["item-image"],onError:e=>{e.target.onerror=null,e.target.src="/default-placeholder.png"}})}),(0,v.jsx)("div",{className:h["checkout-item-name"],children:(0,v.jsx)(n.A,{variant:"smallHeading",className:h["item-name"],children:e.itemName})}),(0,v.jsx)("div",{className:h["checkout-item-price"],children:(0,v.jsxs)(n.A,{variant:"body",children:[e.cost," ",(0,v.jsx)("span",{className:h["hide-on-mobile"],children:"Credits"})]})}),(0,v.jsxs)("div",{className:h["quantity-controls"],children:[(0,v.jsx)("button",{onClick:()=>(e=>{N&&y("");const t=b.map((t=>t.itemName===e&&t.quantity>0?{...t,quantity:t.quantity-1}:t)),a=t.reduce(((e,t)=>e+t.quantity),0);p(a,t)})(e.itemName),children:"\u2013"}),(0,v.jsx)(n.A,{variant:"body",className:h["quantity-count"],children:a}),(0,v.jsx)("button",{onClick:()=>((e,t)=>{if(f-t<0)return void y("Insufficient credits to add this item.");const a=b.map((t=>t.itemName===e?{...t,quantity:t.quantity+1}:t)),c=a.reduce(((e,t)=>e+t.quantity),0);p(c,a)})(e.itemName,e.cost),children:"+"})]}),(0,v.jsx)("div",{className:h["checkout-item-subtotal"],children:(0,v.jsx)(n.A,{variant:"body",className:h["subtotal-text"],children:(0,v.jsxs)("strong",{children:[c," ",(0,v.jsx)("span",{className:h["hide-on-mobile"],children:"Credits"})]})})}),(0,v.jsx)("div",{className:h["checkout-item-remove"],children:(0,v.jsx)("button",{className:h["remove-button"],onClick:()=>(e=>{N&&y("");const t=b.filter((t=>t.itemName!==e)),a=t.reduce(((e,t)=>e+t.quantity),0);p(a,t)})(e.itemName),"aria-label":"Remove item",title:"Remove item",children:(0,v.jsx)("img",{src:m,alt:"Remove Icon",className:h["trash-icon"]})})})]},t)}))})]}),b.length>0&&(0,v.jsxs)("div",{className:h["checkout-summary-container"],children:[(0,v.jsx)("div",{className:h["checkout-summary"],children:(0,v.jsxs)(n.A,{variant:"smallHeading",className:h["summary-text"],children:["Total: ",C," Credits"]})}),(0,v.jsx)("div",{className:h["checkout-place-order-container"],children:(0,v.jsx)("button",{className:h["checkout-place-order-button"],onClick:async()=>{const c={name:a,matric:g,token:t,item:b.map((e=>({itemName:e.itemName,quantity:e.quantity}))),type:"purchase",totalCost:C,userCredits:x,remainingCredits:f};e("/acknowledgement",{state:{payload:c}})},disabled:!j,children:"Place Order"})})]})]})})})}},2466:(e,t,a)=>{e.exports=a.p+"static/media/coin-icon.ef70a3a9cda1a723e8ea.png"},3264:(e,t,a)=>{a.d(t,{A:()=>i});const c="PageGap_wrapper__QxVU-";var s=a(579);const i=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:c,children:t})}},4881:(e,t,a)=>{a.d(t,{A:()=>o});const c="BackButton_detail-header-button__EQ4ZY";var s=a(3216),i=a(9705),r=a(3058),n=a(579);const o=e=>{let{to:t}=e;const a=(0,s.Zp)(),o="default"!==(0,s.zy)().key;return(0,n.jsx)(r.A,{className:c,onClick:()=>{a(t||(o?-1:"/"))},startIcon:(0,n.jsx)(i.h,{}),variant:"outlined",children:"Back"})}},9705:(e,t,a)=>{a.d(t,{h:()=>n});var c,s=a(5043);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)({}).hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},i.apply(null,arguments)}function r(e,t){let{title:a,titleId:r,...n}=e;return s.createElement("svg",i({width:24,height:24,viewBox:"0 0 24 24",fill:"current",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},n),a?s.createElement("title",{id:r},a):null,c||(c=s.createElement("path",{d:"M17.835 3.8701L16.055 2.1001L6.16504 12.0001L16.065 21.9001L17.835 20.1301L9.70504 12.0001L17.835 3.8701Z",fill:"current"})))}const n=s.forwardRef(r);a.p},9913:(e,t,a)=>{a.d(t,{A:()=>n});var c=a(5043),s=a(5786);const i={spinner:"Image_spinner__zFdJR",image:"Image_image__y6uZu",loaded:"Image_loaded__gmNui","image-wrapper":"Image_image-wrapper__qTeOw"};var r=a(579);const n=(0,c.forwardRef)(((e,t)=>{let{src:a,alt:n,className:o,wrapperClassName:l,objectFit:d="cover",...m}=e;const[u,h]=(0,c.useState)(!0);return(0,r.jsxs)("div",{className:[i["image-wrapper"],l].filter(Boolean).join(" "),children:[u&&(0,r.jsx)("div",{className:i.spinner,children:(0,r.jsx)(s.A,{})}),(0,r.jsx)("img",{loading:"lazy",referrerPolicy:"no-referrer",style:{objectFit:d},className:[i.image,i[d],!u&&i.loaded,o].filter(Boolean).join(" "),src:a,alt:n,onLoad:()=>h(!1),...m,ref:t})]})}))}}]);
//# sourceMappingURL=821.35003a3a.chunk.js.map