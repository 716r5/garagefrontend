{"version":3,"file":"static/js/796.4641532d.chunk.js","mappings":"gPACA,QAA0B,uBAA1B,EAAiE,6BAAjE,EAAqG,oBAArG,EAAqI,yBAArI,EAA2K,0BAA3K,EAA0N,kCAA1N,EAAwQ,yBAAxQ,EAAiT,6BAAjT,EAAuV,sB,aCsIvV,QAzHA,WAAkB,IAADA,EAAAC,EACf,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAUC,IAAaJ,EAAAA,EAAAA,WAAS,IAChCK,EAAWC,IAAcN,EAAAA,EAAAA,WAAS,GACnCO,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAEPC,GAAmC,QAAdjB,EAAAa,EAASK,aAAK,IAAAlB,OAAA,EAAdA,EAAgBmB,KAAM,IAC3CC,GAAoC,QAAdnB,EAAAY,EAASK,aAAK,IAAAjB,OAAA,EAAdA,EAAgBoB,OAAQ,eA4CpD,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAAAC,UACTF,EAAAA,EAAAA,KAACG,EAAAA,EAAY,CAAAD,UACXE,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeJ,SAAA,EAE7BE,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAwBJ,SAAA,EACtCF,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACC,QAAQ,UAASN,SAAEJ,OAEjCE,EAAAA,EAAAA,KAACS,EAAAA,EAAU,CAACZ,GAAI,UAGlBO,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAgBI,SAAWC,IAAOA,EAAEC,gBAAgB,EAAEV,SAAA,EAErEE,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAoBJ,SAAA,EAClCF,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACC,QAAQ,OAAMN,SAAE,2BAC1BF,EAAAA,EAAAA,KAAA,SACEK,UAAapB,EACXqB,EACAA,EAEFO,KAAK,OACLC,YAAY,kBACZC,MAAOnC,EACPoC,SAAWL,GAAM9B,EAAU8B,EAAEM,OAAOF,OACpCG,UAAQ,QAIdd,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAoBJ,SAAA,EAClCF,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACC,QAAQ,OAAMN,SAAE,sBAC1BF,EAAAA,EAAAA,KAAA,SACEK,UAAapB,EACXqB,EACAA,EAEFO,KAAK,WACLC,YAAY,WACZC,MAAOhC,EACPiC,SAjFcL,IAC5B,MACMQ,EADgBR,EAAEM,OAAOF,MACSK,QAAQ,MAAO,IAAIC,MAAM,EAAG,GACpErC,EAAYmC,EAAkB,EA+EhBD,UAAQ,EACRI,UAAW,QAIjBtB,EAAAA,EAAAA,KAACO,EAAAA,EAAU,CAACC,QAAQ,OAAOH,UAAYpB,EAAWqB,EAA0BA,EAAkBJ,SAC3F,6CAGFf,GAEKa,EAAAA,EAAAA,KAACuB,EAAAA,EAAc,KAEfvB,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,CAACC,QAzFHC,UACnB,MAAMC,EAAS,CACbC,SAAU,SACVC,KAAM,OACNC,OAAQ,OACRC,QAAS,CACP,eAAgB,6BAIpBC,QAAQC,IAAI,qCAAqCrD,mBAAwBG,KAEzE,IACEK,GAAW,GAEX,MAAM8C,QAAiBC,EAAAA,EAAMC,KAC3BC,EAAAA,GACA,CAACzD,OAAQA,EAAQG,SAASA,EAAU8B,KAAK,YACzCc,GAGFK,QAAQC,IAAI,YAAaC,GAEzB9C,GAAW,GAEkB,8BAAzB8C,EAASI,KAAKC,QAChB9C,EAAK+C,YAAYN,EAASI,MAC1BjD,EAASM,IAETT,GAAU,EAEd,CAAE,MAAOuD,GACPT,QAAQS,MAAM,mBAAoBA,EACpC,GAwD6CpC,UAAWC,EAAoBJ,SAC3D,mBAWrB,C,kCCpIA,QAAuC,yC,2CCIvC,MA4BA,EA5BmBwC,IAAa,IAAZ,GAAE7C,GAAI6C,EACxB,MAAMrD,GAAWC,EAAAA,EAAAA,MAEXqD,EAAoC,aADzBnD,EAAAA,EAAAA,MACiBoD,IAYlC,OACE5C,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,CACLnB,UAAWC,EACXmB,QAbWoB,KAEXxD,EADEQ,IAEO8C,GACC,EAED,KACX,EAOEG,WAAW9C,EAAAA,EAAAA,KAAC+C,EAAAA,EAAW,IACvBvC,QAAQ,WAAUN,SACnB,QAEQ,C,sCC5BT8C,E,UACJ,SAASC,IAAa,OAAOA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAK,IAAK,IAAI1C,EAAI,EAAGA,EAAI2C,UAAUC,OAAQ5C,IAAK,CAAE,IAAI6C,EAAIF,UAAU3C,GAAI,IAAK,IAAI8C,KAAKD,GAAG,CAAG,GAAEE,eAAeC,KAAKH,EAAGC,KAAOJ,EAAEI,GAAKD,EAAEC,GAAK,CAAE,OAAOJ,CAAG,EAAGJ,EAASW,MAAM,KAAMN,UAAY,CAEnR,SAASO,EAAgBnB,EAAMoB,GAC7B,IAAI,MACFC,EAAK,QACLC,KACGC,GACDvB,EACJ,OAAoB,gBAAoB,MAAOO,EAAS,CACtDiB,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,UACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAMf,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EyB,EAAG,4GACHJ,KAAM,aAEV,CACA,MAAMK,EAA0B,aAAiBb,GAClC,G","sources":["webpack://frontend/./src/routes/login/Login.module.css?df34","routes/login/Login.js","webpack://frontend/./src/components/BackButton/BackButton.module.css?d3a5","components/BackButton/BackButton.js","icons/arrow_back_ios.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Login_content__gHGT6\",\"heading-space\":\"Login_heading-space__xIwX7\",\"form\":\"Login_form__jPCZq\",\"form-item\":\"Login_form-item__yA4NW\",\"form-input\":\"Login_form-input__6An7H\",\"form-input-invalid\":\"Login_form-input-invalid__uKX+x\",\"login-btn\":\"Login_login-btn__Bx0re\",\"error-message\":\"Login_error-message__UbA6B\",\"hidden\":\"Login_hidden__cqAjY\"};","import { useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { LOGIN_DOMAIN } from \"../../utils/Constants\";\nimport Transition from \"../../components/transition/Transition\";\nimport PageTemplate from \"../../components/pageTemplate/PageTemplate\";\nimport Typography from \"../../components/typography/Typography\";\nimport BackButton from \"../../components/BackButton/BackButton\";\nimport Button from \"../../components/button/Button\";\nimport { useAuth } from \"../../contexts/AuthProvider\";\nimport LoadingSpinner from \"../../components/loadingSpinner/LoadingSpinner\";\n\nimport axios from 'axios';\nimport styles from \"./Login.module.css\";\n\nfunction Login() {\n  const [matric, setMatric] = useState('');\n  const [passcode, setPasscode] = useState('');\n  const [isDenied, setDenied] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const auth = useAuth();\n\n  const ROUTE_DESTINATION = (location.state?.to || \"/\");\n  const ROUTE_TITLEHEADING = (location.state?.name || \"Member Login\");\n\n  const handlePasscodeChange = (e) => {\n    const inputPasscode = e.target.value;\n    const formattedPasscode = inputPasscode.replace(/\\D/g, '').slice(0, 4);\n    setPasscode(formattedPasscode);\n  };\n\n  const handleSubmit = async () => {\n    const config = {\n      redirect: \"follow\",\n      mode: \"cors\",\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain;charset=utf-8\",\n      },\n    };\n\n    console.log(`Attempting to log in with matric: ${matric} and passcode: ${passcode}`);\n    \n    try {\n      setLoading(true);\n\n      const response = await axios.post(\n        LOGIN_DOMAIN, \n        {matric: matric, passcode:passcode, type:\"userdata\"}, \n        config,\n      );\n\n      console.log('Response:', response);\n\n      setLoading(false);\n      \n      if (response.data.status === \"DATA RETRIEVAL SUCCESSFUL\") {\n        auth.loginAction(response.data); \n        navigate(ROUTE_DESTINATION);\n      } else {\n        setDenied(true);\n      }\n    } catch (error) {\n      console.error(\"Error logging in\", error);\n    }\n  };\n\n  return (\n    <Transition>\n      <PageTemplate>\n        <div className={styles.content}>\n\n          <div className={styles[\"heading-space\"]}>\n            <div>\n              <Typography variant=\"heading\">{ROUTE_TITLEHEADING}</Typography>\n            </div>\n            <BackButton to={\"/\"}/>\n          </div>\n\n          <form className={styles[\"form\"]} onSubmit={(e) => {e.preventDefault()}}>\n\n            <div className={styles[\"form-item\"]}>\n              <Typography variant=\"body\">{\"Matriculation Number:\"}</Typography>\n                <input\n                  className={ (isDenied ?\n                    styles[\"form-input-invalid\"]:\n                    styles[\"form-input\"]\n                  )}\n                  type=\"text\" \n                  placeholder=\"eg. U123456789A\"\n                  value={matric}\n                  onChange={(e) => setMatric(e.target.value)}\n                  required\n                />\n            </div>\n\n            <div className={styles[\"form-item\"]}>\n              <Typography variant=\"body\">{\"Passcode (DDMM):\"}</Typography>\n                <input \n                  className={ (isDenied ?\n                    styles[\"form-input-invalid\"]:\n                    styles[\"form-input\"]\n                  )}\n                  type=\"password\" \n                  placeholder=\"eg. 1911\"\n                  value={passcode}\n                  onChange={handlePasscodeChange}\n                  required\n                  minLength={4}\n                />\n            </div>\n            \n            <Typography variant=\"body\" className={(isDenied ? styles[\"error-message\"] : styles[\"hidden\"])}>\n              {\"Invalid matriculation number or passcode\"}\n            </Typography>\n\n            {isLoading ? \n                (\n                  <LoadingSpinner />\n                ) : (\n                  <Button onClick={handleSubmit} className={styles['login-btn']}>\n                    {\"Login\"}\n                  </Button>\n                )\n              }\n            \n          </form>\n\n        </div>\n      </PageTemplate>\n    </Transition>\n  );\n}\n\nexport default Login;","// extracted by mini-css-extract-plugin\nexport default {\"detail-header-button\":\"BackButton_detail-header-button__EQ4ZY\"};","import styles from \"./BackButton.module.css\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { ReactComponent as ChevronLeft } from \"../../icons/arrow_back_ios.svg\";\nimport Button from \"../button/Button\";\n\nconst BackButton = ({ to }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const hasPreviousState = location.key !== \"default\";\n\n  const goBack = () => {\n    if (to) {\n      navigate(to);\n    } else if (hasPreviousState) {\n      navigate(-1);\n    } else {\n      navigate(\"/\");\n    }\n  };\n\n  return (\n    <Button\n      className={styles[\"detail-header-button\"]}\n      onClick={goBack}\n      startIcon={<ChevronLeft />}\n      variant=\"outlined\"\n    >\n      Back\n    </Button>\n  );\n};\n\n\nexport default BackButton;\n","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgArrowBackIos(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"current\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.835 3.8701L16.055 2.1001L6.16504 12.0001L16.065 21.9001L17.835 20.1301L9.70504 12.0001L17.835 3.8701Z\",\n    fill: \"current\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBackIos);\nexport default __webpack_public_path__ + \"static/media/arrow_back_ios.4be028dc7915d847fa4406a1eb949fda.svg\";\nexport { ForwardRef as ReactComponent };"],"names":["_location$state","_location$state2","matric","setMatric","useState","passcode","setPasscode","isDenied","setDenied","isLoading","setLoading","navigate","useNavigate","location","useLocation","auth","useAuth","ROUTE_DESTINATION","state","to","ROUTE_TITLEHEADING","name","_jsx","Transition","children","PageTemplate","_jsxs","className","styles","Typography","variant","BackButton","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","required","formattedPasscode","replace","slice","minLength","LoadingSpinner","Button","onClick","async","config","redirect","mode","method","headers","console","log","response","axios","post","LOGIN_DOMAIN","data","status","loginAction","error","_ref","hasPreviousState","key","goBack","startIcon","ChevronLeft","_path","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","SvgArrowBackIos","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef"],"sourceRoot":""}