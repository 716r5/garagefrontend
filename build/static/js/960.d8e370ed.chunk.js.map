{"version":3,"file":"static/js/960.d8e370ed.chunk.js","mappings":"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","sources":["webpack://frontend/./src/components/pageGap/PageGap.module.css?1a30","components/pageGap/PageGap.jsx","hooks/useFetchPoints.js","webpack://frontend/./src/components/BackButton/BackButton.module.css?d3a5","components/BackButton/BackButton.js","webpack://frontend/./src/routes/shop/Shop.module.css?dd10","routes/shop/Shop.js","icons/arrow_back_ios.svg","webpack://frontend/./src/components/image/Image.module.css?c6af","components/image/Image.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PageGap_wrapper__QxVU-\"};","import styles from \"./PageGap.module.css\";\n\nconst PageGap = ({ children }) => {\n  return <div className={styles[\"wrapper\"]}>{children}</div>;\n};\n\nexport default PageGap;\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { API_DOMAIN } from \"../utils/Constants\";\nimport { useAuth } from \"../contexts/AuthProvider\";\nimport { useCart } from \"../contexts/CartProvider\";\n\nexport default function useFetchPoints(matric) {\n  const { userCredits, setCredits } = useCart();\n  const [loading, setLoading] = useState(false);\n  const { token, logoutAction } = useAuth();\n\n  useEffect(() => {\n    if (!matric) return;\n\n    const fetchPoints = async () => {\n      setLoading(true);\n      try {\n\n        const config = { \n        headers: { \n            \"Content-Type\": \"text/plain;charset=utf-8\", \n            }, \n            redirect: \"follow\", \n            mode: \"cors\", \n            method: \"POST\", \n        };\n  \n        const response = await axios.post(API_DOMAIN, {\n          matric,\n          type: \"shopData\",\n          token: token,\n        }, config);\n        if (response.data.status === \"DATA RETRIEVAL SUCCESSFUL\") {\n          setCredits(response.data.info.currentInnocredit);\n        }\n        if (response.data.error === 'Invalid token') {\n          return logoutAction(true);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPoints();\n  }, [matric]);\n\n  return { userCredits, loading };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"detail-header-button\":\"BackButton_detail-header-button__EQ4ZY\"};","import styles from \"./BackButton.module.css\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { ReactComponent as ChevronLeft } from \"../../icons/arrow_back_ios.svg\";\nimport Button from \"../button/Button\";\n\nconst BackButton = ({ to }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const hasPreviousState = location.key !== \"default\";\n\n  const goBack = () => {\n    if (to) {\n      navigate(to);\n    } else if (hasPreviousState) {\n      navigate(-1);\n    } else {\n      navigate(\"/\");\n    }\n  };\n\n  return (\n    <Button\n      className={styles[\"detail-header-button\"]}\n      onClick={goBack}\n      startIcon={<ChevronLeft />}\n      variant=\"outlined\"\n    >\n      Back\n    </Button>\n  );\n};\n\n\nexport default BackButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"credits\":\"Shop_credits__Cl9VI\",\"shop-items-container\":\"Shop_shop-items-container__X-BtE\",\"shop-item\":\"Shop_shop-item__OuolA\",\"item-image\":\"Shop_item-image__jv6Nk\",\"item-name\":\"Shop_item-name__RFQ8A\",\"item-price\":\"Shop_item-price__A2mxZ\",\"item-description\":\"Shop_item-description__dyuLB\",\"item-stock\":\"Shop_item-stock__mPWnR\",\"item-stock-quantity\":\"Shop_item-stock-quantity__JiZm5\",\"quantity-controls\":\"Shop_quantity-controls__8YIxW\",\"quantity-count\":\"Shop_quantity-count__+oGzm\",\"quantity-zero\":\"Shop_quantity-zero__PhJu7\",\"checkout\":\"Shop_checkout__OkCsc\",\"purchase-warning-backdrop\":\"Shop_purchase-warning-backdrop__wcAgf\",\"purchase-warning-modal\":\"Shop_purchase-warning-modal__nHiv-\",\"modalAppear\":\"Shop_modalAppear__ZTAh7\",\"cart-icon\":\"Shop_cart-icon__p3Om+\",\"cart-count\":\"Shop_cart-count__DXp9o\",\"cart-icon-wrapper\":\"Shop_cart-icon-wrapper__RfZCB\",\"checkout-button\":\"Shop_checkout-button__FoXiq\",\"heading-space\":\"Shop_heading-space__7XQ8J\",\"heading-info-space\":\"Shop_heading-info-space__vtJ5b\",\"credits-label\":\"Shop_credits-label__H1euK\",\"credits-value\":\"Shop_credits-value__cnX7G\",\"credits-icon\":\"Shop_credits-icon__gXesF\",\"content-wrapper\":\"Shop_content-wrapper__CUX0E\"};","import React, { useState, useEffect } from \"react\";\nimport useFetch from \"../../hooks/useFetch\";\nimport Transition from \"../../components/transition/Transition\";\nimport PageTemplate from \"../../components/pageTemplate/PageTemplate\";\nimport Typography from \"../../components/typography/Typography\";\nimport BackButton from \"../../components/BackButton/BackButton\";\nimport PageGap from \"../../components/pageGap/PageGap\";\nimport Image from '../../components/image/Image';\nimport coinIcon from '../../icons/coin-icon.png';\nimport cartIcon from '../../icons/shopping-cart.png';\nimport styles from './Shop.module.css';\nimport { useNavigate } from \"react-router-dom\";\nimport { useMemo } from \"react\";\nimport { API_DOMAIN } from '../../utils/Constants';\nimport { useAuth } from \"../../contexts/AuthProvider\";\nimport { useCart } from \"../../contexts/CartProvider\";\nimport useFetchPoints from \"../../hooks/useFetchPoints\";\n\nconst Shop = () => {\n  const { matric, token } = useAuth();\n  const { userCredits, cartCount, cartItems, setCredits, setCart } = useCart();\n  const [quantities, setQuantities] = useState({});\n  const [isLoadingCredits, setIsLoadingCredits] = useState(false);\n  const [insufficientCredits, setInsufficientCredits] = useState(false);\n  const [emptyCart, setEmptyCart] = useState(false);\n  const [showWarning, setShowWarning] = useState(false);\n  const navigate = useNavigate();\n\n  const { data, isShopLoading } = useFetch({\n    url: API_DOMAIN + \"?type=shopInventory&token=\" + token,\n  });\n\n  const { credits, loading } = useFetchPoints(matric);\n  \n  useEffect(() => {\n    setIsLoadingCredits(loading);\n    if (credits !== undefined && credits !== null) {\n      setCredits(credits);\n  }  }, [loading, credits]);\n\n  const items = useMemo(() => {\n    if (!data || !Array.isArray(data)) {\n      return [];\n    }\n    return data.filter(entry => entry.itemName && entry.innocreditPrice !== undefined);\n  }, [data]);\n\n  useEffect(() => {\n    if (data && Array.isArray(data)) {\n      const initialQuantities = {};\n\n      data.forEach(item => {\n        const cartItem = cartItems.find(cart => cart.itemName === item.itemName);\n\n        initialQuantities[item.itemName] = cartItem ? cartItem.quantity : 0;\n      });\n\n      setQuantities(initialQuantities);\n    }\n  }, [data, cartItems]);\n\n  const incrementQuantity = (itemName) => {\n    const itemPrice = items.find(item => item.itemName === itemName).innocreditPrice;\n    const currentTotal = Object.entries(quantities).reduce((sum, [name, qty]) => {\n      const item = items.find(i => i.itemName === name);\n      return sum + (item.innocreditPrice) * qty;\n    }, 0);\n\n    if (userCredits - currentTotal - itemPrice < 0) {\n      setShowWarning(true);\n      setInsufficientCredits(true);\n      return;\n    }\n\n    const newQuantities = {\n      ...quantities,\n      [itemName]: (quantities[itemName] || 0) + 1,\n    };\n\n    setQuantities(newQuantities);\n    updateCart(newQuantities);\n\n  };\n\n  const decrementQuantity = (itemName) => {\n    const newQuantities = {\n      ...quantities,\n      [itemName]: (quantities[itemName] || 0) - 1,\n    };\n    setQuantities(newQuantities);\n    updateCart(newQuantities);\n\n  };\n\n  const updateCartCount = (newQuantities) => {\n    const totalItems = Object.values(newQuantities).reduce((sum, qty) => sum + qty, 0);\n    return totalItems\n  };\n\n  const updateCart = (newQuantities) => {\n    const cartQuantities = items.filter(item => newQuantities[item.itemName] && newQuantities[item.itemName] > 0);\n    const cartItems = cartQuantities.map(item => ({\n      itemName: item.itemName,\n      quantity: newQuantities[item.itemName],\n      cost: item.innocreditPrice,\n      image: item.image.preview_url\n    }));\n    const totalItems = updateCartCount(newQuantities);\n    setCart(totalItems, cartItems);\n  };\n\n  const handleCheckout = () => {\n    if (cartCount === 0) {\n      setShowWarning(true);\n      setEmptyCart(true);\n      return;\n    }\n    navigate(\"/checkout\");\n  };\n\n  return (\n    <Transition isLoading={isShopLoading || isLoadingCredits || !data}>\n      <PageTemplate>\n        <PageGap>\n          {showWarning && (\n            <div className={styles['purchase-warning-backdrop']}>\n              <div className={styles['purchase-warning-modal']}>\n                {insufficientCredits &&\n                <>\n                  <Typography variant='smallHeading'>Insufficient Credits</Typography>\n                  <Typography variant='body'>You don't have enough credits to add this item.</Typography>\n                </>\n                }\n                {emptyCart && \n                <>\n                  <Typography variant='smallHeading'>Empty Cart</Typography>\n                  <Typography variant='body'>Please add items before proceeding to checkout.</Typography>\n                </>\n                }\n                <button   onClick={() => {\n                  setShowWarning(false);\n                  setEmptyCart(false);\n                  setInsufficientCredits(false);\n                }}><Typography variant='body'>Confirm</Typography>\n                </button>\n              </div>\n            </div>\n          )}\n          <div className={styles['heading-space']}>\n            <Typography variant=\"heading\">Garage Shop</Typography>\n            <BackButton />\n          </div>\n\n          <div className={styles['heading-info-space']}>\n            <Typography variant=\"smallHeading\">\n              Welcome to Garage Shop\n            </Typography>\n            <div className={styles['credits']}>\n              <Typography variant=\"body\" className={styles['credits-label']}>\n                Inno Credits:\n              </Typography>\n              <Typography variant=\"body\" className={styles['credits-value']}>\n                {isLoadingCredits ? \"...\" : userCredits}\n              </Typography>\n              <img\n                src={coinIcon}\n                alt=\"Credits Icon\"\n                className={styles['credits-icon']}\n              />\n            </div>\n          </div>\n\n          <div className={styles['shop-items-container']}>\n            {items.map((item, index) => (\n              <div className={styles['shop-item']} key={index}>\n                <div className={styles['image-wrapper']}>\n                  <Image\n                    src={item.image?.preview_url ? item.image.preview_url : \"/default-placeholder.png\"}\n                    alt={item.itemName ? item.itemName : \"Unnamed Item\"}\n                    className={styles['item-image']}\n                    onError={(e) => {\n                    e.target.onerror = null;\n                    e.target.src = \"/default-placeholder.png\";\n                  }}\n                  />\n                </div>\n\n                <Typography variant=\"subtitle\" className={styles['item-description']}>\n                  {item.description || \"No description available.\"}\n                </Typography>\n\n                <Typography variant=\"body\" className={styles['item-name']}>\n                  {item.itemName || \"No Name\"}\n                </Typography>\n\n                <div className={styles['item-price']}>\n                  <Typography variant=\"body\">\n                    {item.innocreditPrice} Credits\n                  </Typography>\n                  <img\n                    src={coinIcon}\n                    alt=\"Credits Icon\"\n                    className={styles['credits-icon']}\n                  />\n                </div>\n\n                <div className={styles['item-stock-quantity']}>\n                  <Typography variant=\"body\" className={styles['item-stock']}>\n                    {item.inventory ? `Stock: ${item.inventory}` : \"Out of Stock\"}\n                  </Typography>\n                  <div className={styles['quantity-controls']}>\n                    <button\n                      onClick={() => decrementQuantity(item.itemName)}\n                      disabled={\n                        !item.inventory || quantities[item.itemName] === 0\n                      }\n                    >\n                      -\n                    </button>\n                    <Typography\n                      variant=\"body\"\n                      className={\n                        !item.inventory\n                          ? `${styles['quantity-count']} ${styles['quantity-zero']}`\n                          : styles['quantity-count']\n                      }\n                    >\n                      {quantities[item.itemName]}\n                    </Typography>\n                    <button\n                      onClick={() => incrementQuantity(item.itemName)}\n                      disabled={\n                        !item.inventory || quantities[item.itemName] >= item.inventory\n                      }\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className={styles['checkout']}>\n            <button className={styles['checkout-button']} onClick={handleCheckout}>\n              <div className={styles['cart-icon-wrapper']}>\n                <img\n                  src={cartIcon}\n                  alt=\"Cart Icon\"\n                  className={styles['cart-icon']}\n                />\n                {cartCount > 0 && (\n                  <span className={styles['cart-count']}>{cartCount}</span>\n                )}\n              </div>\n              Check Out\n            </button>\n          </div>\n        </PageGap>\n      </PageTemplate>\n    </Transition>\n    \n  );\n};\n\nexport default Shop;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgArrowBackIos(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"current\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.835 3.8701L16.055 2.1001L6.16504 12.0001L16.065 21.9001L17.835 20.1301L9.70504 12.0001L17.835 3.8701Z\",\n    fill: \"current\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBackIos);\nexport default __webpack_public_path__ + \"static/media/arrow_back_ios.4be028dc7915d847fa4406a1eb949fda.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Image_spinner__zFdJR\",\"image\":\"Image_image__y6uZu\",\"loaded\":\"Image_loaded__gmNui\",\"image-wrapper\":\"Image_image-wrapper__qTeOw\"};","import { forwardRef, useState } from \"react\";\nimport LoadingSpinner from \"../loadingSpinner/LoadingSpinner\";\nimport styles from \"./Image.module.css\";\n\n/**\n * Drop in replacement for `<img>` tags. Provides lazy loading spinners\n * and fades image in on load\n */\nconst Image = forwardRef(\n  (\n    { src, alt, className, wrapperClassName, objectFit = \"cover\", ...rest },\n    ref\n  ) => {\n    const [isLoading, setIsLoading] = useState(true);\n    return (\n      <div\n        className={[styles[\"image-wrapper\"], wrapperClassName]\n          .filter(Boolean)\n          .join(\" \")}\n      >\n        {isLoading && (\n          <div className={styles[\"spinner\"]}>\n            <LoadingSpinner />\n          </div>\n        )}\n        <img\n          loading=\"lazy\"\n          referrerPolicy=\"no-referrer\"\n          style={{ objectFit: objectFit }}\n          className={[\n            styles[\"image\"],\n            styles[objectFit],\n            !isLoading && styles[\"loaded\"],\n            className,\n          ]\n            .filter(Boolean)\n            .join(\" \")}\n          src={src}\n          alt={alt}\n          onLoad={() => setIsLoading(false)}\n          {...rest}\n          ref={ref}\n        />\n      </div>\n    );\n  }\n);\n\nexport default Image;\n"],"names":["_ref","children","_jsx","className","styles","useFetchPoints","matric","userCredits","setCredits","useCart","loading","setLoading","useState","token","logoutAction","useAuth","useEffect","async","config","headers","redirect","mode","method","response","axios","post","API_DOMAIN","type","data","status","info","currentInnocredit","error","err","console","fetchPoints","to","navigate","useNavigate","hasPreviousState","useLocation","key","Button","onClick","goBack","startIcon","ChevronLeft","variant","Shop","cartCount","cartItems","setCart","quantities","setQuantities","isLoadingCredits","setIsLoadingCredits","insufficientCredits","setInsufficientCredits","emptyCart","setEmptyCart","showWarning","setShowWarning","isShopLoading","useFetch","url","credits","undefined","items","useMemo","Array","isArray","filter","entry","itemName","innocreditPrice","initialQuantities","forEach","item","cartItem","find","cart","quantity","updateCart","newQuantities","map","cost","image","preview_url","totalItems","Object","values","reduce","sum","qty","updateCartCount","Transition","isLoading","PageTemplate","_jsxs","PageGap","_Fragment","Typography","BackButton","src","coinIcon","alt","index","_item$image","Image","onError","e","target","onerror","description","inventory","decrementQuantity","disabled","itemPrice","currentTotal","entries","name","i","incrementQuantity","handleCheckout","cartIcon","_path","_extends","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","SvgArrowBackIos","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","forwardRef","wrapperClassName","objectFit","rest","setIsLoading","Boolean","join","LoadingSpinner","referrerPolicy","style","onLoad"],"sourceRoot":""}